# Google Veo - Video Generation

Generate videos using Google's Veo model via the Gemini API.


## Prerequisites

Verify these environment variables are set in `/memory/Video Generator/.env`:
- `GEMINI_API_KEY` - Your Google AI API key (required)
- `GEMINI_VIDEO_MODEL` - Model to use (required)


## Generate a Video (Text-to-Video)

**Basic generation:**
```bash
cd "pro accelerator/tools/Video Generator"
node scripts/generate-video-google.js "your prompt here"
```

**With aspect ratio:**
```bash
node scripts/generate-video-google.js "your prompt" --aspect-ratio 16:9
```

**With custom output:**
```bash
node scripts/generate-video-google.js "your prompt" --output-dir /path/to/folder --output filename.mp4
```


## Generate Video from Image (Image-to-Video)

Animate a still image into a video:

```bash
node scripts/generate-video-google.js "subtle movement, gentle breathing" --image input.jpg
```

The prompt describes the motion/action to apply to the image.

### Create Seamless Looping Videos

Use the `--loop` flag to create videos that loop seamlessly:

```bash
node scripts/generate-video-google.js "gentle swaying motion" --image input.jpg --loop
```

This uses the input image as both the **first frame** and **last frame**, ensuring smooth transitions when the video loops.

**Best for:**
- Ambient/background videos
- Portraits with subtle breathing/movement
- Nature scenes with gentle motion
- Cinemagraphs


## Extend Videos (Video Extensions)

**Create longer videos by extending in 7-second increments:**

### Option 1: Generate with Extensions (Recommended)

Generate initial video and automatically extend it:

```bash
node scripts/generate-video-google.js "subtle hand movements" --image input.jpg --extensions 2
```

This creates an initial ~8 second video plus 2 extensions (~7 seconds each) for a total of ~22 seconds.

### Option 2: Manual Extension

Extend an existing Veo-generated video:

```bash
node scripts/generate-video-google.js "continue the motion" --video initial.mp4 --extensions 1
```

### Extension Specifications

| Parameter | Value |
|-----------|-------|
| Initial duration | ~8 seconds |
| Extension duration | ~7 seconds each |
| Maximum extensions | 20 |
| Total maximum | ~148 seconds (8 + 20×7) |
| Aspect ratios | 16:9 or 9:16 only |
| Resolution | 720p |
| Input requirement | Must be Veo-generated video |

**Important Notes:**
- Extensions only work with videos generated by Veo (not external videos)
- Aspect ratio is locked to 16:9 or 9:16 for extensions
- The script automatically concatenates all segments into a single file
- Each extension uses the same continuation prompt


## Supported Aspect Ratios

| Ratio | Use Case | Extensions |
|-------|----------|------------|
| 16:9 | Widescreen landscape (default) | ✅ Supported |
| 9:16 | Portrait / Stories / Reels | ✅ Supported |
| 1:1 | Square | ❌ Not supported for extensions |


## Parameters

| Parameter | Description |
|-----------|-------------|
| `prompt` | Text description of the video (required) |
| `--image`, `-i` | Input image for image-to-video |
| `--video`, `-v` | Input video for video extension |
| `--extensions`, `-e` | Number of 7-second extensions (0-20) |
| `--loop`, `-l` | Create seamless loop (uses image as first & last frame) |
| `--aspect-ratio`, `-a` | Aspect ratio (16:9, 9:16, 1:1) |
| `--output-dir`, `-d` | Directory to save video |
| `--output`, `-o` | Output filename |


## Video Duration

**Base Generation:**
- Google Veo generates videos of approximately 8 seconds

**With Extensions:**
- Each extension adds approximately 7 seconds
- Formula: `total_duration ≈ 8 + (num_extensions × 7)` seconds
- Examples:
  - 0 extensions: ~8 seconds
  - 1 extension: ~15 seconds
  - 2 extensions: ~22 seconds
  - 3 extensions: ~29 seconds
  - 20 extensions (max): ~148 seconds


## Example Workflows

### Create a 20-second animated video from image

```bash
node scripts/generate-video-google.js \
  "extremely subtle hand movements folding origami, minimal head movement, static camera" \
  --image illustration.png \
  --extensions 2 \
  --aspect-ratio 16:9
```

### Create seamless looping video

```bash
node scripts/generate-video-google.js \
  "gentle breathing, subtle facial movements" \
  --image portrait.jpg \
  --loop \
  --aspect-ratio 16:9
```

### Extend existing video to desired length

```bash
# Generate initial video
node scripts/generate-video-google.js "person walking" --image start.jpg

# Extend it further
node scripts/generate-video-google.js "continue walking smoothly" \
  --video veo_20251127_person-walking.mp4 \
  --extensions 1
```


## Troubleshooting

**API key not found:** Verify `GEMINI_API_KEY` is set in `/memory/Video Generator/.env`

**Model not available (404):** Veo may have limited availability. Check Google AI Studio for current model access.

**Generation timeout:** Video generation can take 1-3 minutes per segment. Extensions will take longer (multiply by number of extensions).

**Import error:** Run `npm install` in the Video Generator directory.

**Extension failed:** Ensure the input video was generated by Veo and has a compatible aspect ratio (16:9 or 9:16)


## Output

- **Default location:** `./generated_videos/`
- **Naming format:** `veo_[timestamp]_[prompt-excerpt].mp4`
- **Quality:** High-fidelity output with native audio (when applicable)
- **Extended videos:** Automatically concatenated into single file


## When to Use Google Veo

**Best for:**
- Highest quality video generation
- Cinematic, professional-looking output
- When audio generation is needed
- Image-to-video animation
- **Longer videos (20+ seconds) via extensions**

**Limitations:**
- May have rate limits or availability constraints
- Longer generation times than some alternatives
- Extensions multiply generation time (1-3 min per segment)
- Extensions only work with Veo-generated videos

